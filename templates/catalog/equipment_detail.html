<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Карточка оборудования</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'catalog:equipment_list' %}">Каталог оборудования</a>
    </div>
</nav>

<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">{{ equipment.name }} ({{ equipment.inventory_number }})</h2>
        <div>
            <a href="{% url 'catalog:equipment_edit' equipment.pk %}" class="btn btn-warning">Изменить</a>
            <a href="{% url 'catalog:equipment_delete' equipment.pk %}" class="btn btn-danger">Удалить</a>
            <a href="{% url 'catalog:equipment_list' %}" class="btn btn-secondary">К списку</a>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6 mb-3">
            <div class="card">
                <div class="card-header">Основная информация</div>
                <div class="card-body">
                    <p><strong>Тип:</strong> {{ equipment.type.name }}</p>
                    <p><strong>Площадка / цех:</strong> {{ equipment.location.name }}</p>
                    <p><strong>Описание:</strong><br>{{ equipment.description|default:"—" }}</p>
                </div>
            </div>
        </div>

        <div class="col-md-6 mb-3">
            <div class="card mb-3">
                <div class="card-header">Характеристики</div>
                <div class="card-body">
                    {% if equipment.attribute_values.all %}
                        <dl class="row mb-0">
                        {% for av in equipment.attribute_values.all %}
                            <dt class="col-sm-5">{{ av.attribute.name }}</dt>
                            <dd class="col-sm-7">{{ av.value }}</dd>
                        {% empty %}
                            <p class="mb-0">Нет указанных характеристик.</p>
                        {% endfor %}
                        </dl>
                    {% else %}
                        <p class="mb-0">Нет указанных характеристик.</p>
                    {% endif %}
                </div>
            </div>

            <div class="card">
                <div class="card-header">Паспорта</div>
                <div class="card-body">
                    {% if equipment.passports.all %}
                        <ul class="list-unstyled mb-0">
                        {% for p in equipment.passports.all %}
                            <li>
                                <a href="{{ p.file.url }}" target="_blank">Паспорт от {{ p.uploaded_at|date:"d.m.Y H:i" }}</a>
                            </li>
                        {% empty %}
                            <p class="mb-0">Паспорта не прикреплены.</p>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <p class="mb-0">Паспорта не прикреплены.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>

{
  "cells": [],
  "metadata": {
    "language_info": {
      "name": "python"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 2
}